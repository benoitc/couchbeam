searchData={"items":[{"type":"module","title":"couchbeam","doc":"","ref":"couchbeam.html"},{"type":"function","title":"couchbeam.all_dbs/1","doc":"get list of databases on a CouchDB node","ref":"couchbeam.html#all_dbs/1"},{"type":"function","title":"couchbeam.all_dbs/2","doc":"get list of databases on a CouchDB node with optional filter","ref":"couchbeam.html#all_dbs/2"},{"type":"function","title":"couchbeam.compact/1","doc":"Compaction compresses the database file by removing unused sections created during updates. See  http://wiki.apache.org/couchdb/Compaction  for more informations","ref":"couchbeam.html#compact/1"},{"type":"function","title":"couchbeam.compact/2","doc":"Like compact/1 but this compacts the view index from the current version of the design document. See  http://wiki.apache.org/couchdb/Compaction#View_compaction  for more informations","ref":"couchbeam.html#compact/2"},{"type":"function","title":"couchbeam.copy_doc/2","doc":"duplicate a document using the doc API","ref":"couchbeam.html#copy_doc/2"},{"type":"function","title":"couchbeam.copy_doc/3","doc":"copy a doc to a destination. If the destination exist it will use the last revision, in other case a new doc is created with the the current doc revision.","ref":"couchbeam.html#copy_doc/3"},{"type":"function","title":"couchbeam.create_db/2","doc":"Equivalent to  create_db(Server, DbName, [], []) . Create a database and a client for connectiong to it.","ref":"couchbeam.html#create_db/2"},{"type":"function","title":"couchbeam.create_db/3","doc":"Equivalent to  create_db(Server, DbName, Options, []) . Create a database and a client for connectiong to it.","ref":"couchbeam.html#create_db/3"},{"type":"function","title":"couchbeam.create_db/4","doc":"Create a database and a client for connectiong to it. Connections are made to: <span class=\"w\">          </span><span class=\"nc\">http</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"o\">/</span><span class=\"n\">Host</span><span class=\"p\">:</span><span class=\"n\">PortPrefix</span><span class=\"o\">/</span><span class=\"n\">DbName</span> If ssl is set https is used. See server_connections for options. Params is a list of optionnal query argument you want to pass to the db. Useful for bigcouch for example. Options::optionList(), Params::list()) -> {ok, db()|{error, Error}}","ref":"couchbeam.html#create_db/4"},{"type":"type","title":"couchbeam.db/0","doc":"","ref":"couchbeam.html#t:db/0"},{"type":"function","title":"couchbeam.db_exists/2","doc":"test if db with dbname exists on the CouchDB node","ref":"couchbeam.html#db_exists/2"},{"type":"function","title":"couchbeam.db_info/1","doc":"get database info","ref":"couchbeam.html#db_info/1"},{"type":"function","title":"couchbeam.delete_attachment/3","doc":"Equivalent to  delete_attachment(Db, Doc, Name, []) . delete a document attachment","ref":"couchbeam.html#delete_attachment/3"},{"type":"function","title":"couchbeam.delete_attachment/4","doc":"delete a document attachment","ref":"couchbeam.html#delete_attachment/4"},{"type":"function","title":"couchbeam.delete_db/1","doc":"Equivalent to  delete_db(Server, DbName) . delete database","ref":"couchbeam.html#delete_db/1"},{"type":"function","title":"couchbeam.delete_db/2","doc":"delete database","ref":"couchbeam.html#delete_db/2"},{"type":"function","title":"couchbeam.delete_doc/2","doc":"Equivalent to  delete_doc(Db, Doc, []) . delete a document","ref":"couchbeam.html#delete_doc/2"},{"type":"function","title":"couchbeam.delete_doc/3","doc":"delete a document if you want to make sure the doc it emptied on delete, use the option {empty_on_delete, true} or pass a doc with just _id and _rev members.","ref":"couchbeam.html#delete_doc/3"},{"type":"function","title":"couchbeam.delete_docs/2","doc":"Equivalent to  delete_docs(Db, Docs, []) . delete a list of documents","ref":"couchbeam.html#delete_docs/2"},{"type":"function","title":"couchbeam.delete_docs/3","doc":"delete a list of documents if you want to make sure the doc it emptied on delete, use the option {empty_on_delete, true} or pass a doc with just _id and _rev members.","ref":"couchbeam.html#delete_docs/3"},{"type":"function","title":"couchbeam.design_info/2","doc":"","ref":"couchbeam.html#design_info/2"},{"type":"type","title":"couchbeam.doc/0","doc":"","ref":"couchbeam.html#t:doc/0"},{"type":"function","title":"couchbeam.doc_exists/2","doc":"test if doc with uuid exists in the given db","ref":"couchbeam.html#doc_exists/2"},{"type":"opaque","title":"couchbeam.doc_stream/0","doc":"","ref":"couchbeam.html#t:doc_stream/0"},{"type":"type","title":"couchbeam.ejson_object/0","doc":"","ref":"couchbeam.html#t:ejson_object/0"},{"type":"function","title":"couchbeam.end_doc_stream/1","doc":"stop to receive the multipart response of the doc api and close the connection.","ref":"couchbeam.html#end_doc_stream/1"},{"type":"function","title":"couchbeam.ensure_full_commit/1","doc":"Equivalent to  ensure_full_commit(Db, []) . commit all docs in memory","ref":"couchbeam.html#ensure_full_commit/1"},{"type":"function","title":"couchbeam.ensure_full_commit/2","doc":"commit all docs in memory","ref":"couchbeam.html#ensure_full_commit/2"},{"type":"function","title":"couchbeam.fetch_attachment/3","doc":"Equivalent to  fetch_attachment(Db, DocId, Name, []) . fetch a document attachment","ref":"couchbeam.html#fetch_attachment/3"},{"type":"function","title":"couchbeam.fetch_attachment/4","doc":"fetch a document attachment Options are stream : to start streaming an attachment. the function return  {ok, Ref}  where is a ref to the attachment Other options that can be sent using the REST API","ref":"couchbeam.html#fetch_attachment/4"},{"type":"function","title":"couchbeam.find/3","doc":"","ref":"couchbeam.html#find/3"},{"type":"function","title":"couchbeam.get_missing_revs/2","doc":"get missing revisions","ref":"couchbeam.html#get_missing_revs/2"},{"type":"function","title":"couchbeam.get_uuid/1","doc":"Get one uuid from the server","ref":"couchbeam.html#get_uuid/1"},{"type":"function","title":"couchbeam.get_uuids/2","doc":"Get a list of uuids from the server","ref":"couchbeam.html#get_uuids/2"},{"type":"function","title":"couchbeam.lookup_doc_rev/2","doc":"get the last revision of the document","ref":"couchbeam.html#lookup_doc_rev/2"},{"type":"function","title":"couchbeam.lookup_doc_rev/3","doc":"","ref":"couchbeam.html#lookup_doc_rev/3"},{"type":"type","title":"couchbeam.mp_attachment/0","doc":"","ref":"couchbeam.html#t:mp_attachment/0"},{"type":"type","title":"couchbeam.mp_attachments/0","doc":"","ref":"couchbeam.html#t:mp_attachments/0"},{"type":"function","title":"couchbeam.open_db/2","doc":"Equivalent to  open_db(Server, DbName, []) . Create a client for connection to a database","ref":"couchbeam.html#open_db/2"},{"type":"function","title":"couchbeam.open_db/3","doc":"Create a client for connection to a database -> {ok, db()}","ref":"couchbeam.html#open_db/3"},{"type":"function","title":"couchbeam.open_doc/2","doc":"Equivalent to  open_doc(Db, DocId, []) . open a document","ref":"couchbeam.html#open_doc/2"},{"type":"function","title":"couchbeam.open_doc/3","doc":"open a document Params is a list of query argument. Have a look in CouchDb API -> {ok, Doc}|{error, Error}","ref":"couchbeam.html#open_doc/3"},{"type":"function","title":"couchbeam.open_or_create_db/2","doc":"Equivalent to  open_or_create_db(Server, DbName, [], []) . Create a client for connecting to a database and create the database if needed.","ref":"couchbeam.html#open_or_create_db/2"},{"type":"function","title":"couchbeam.open_or_create_db/3","doc":"Equivalent to  open_or_create_db(Server, DbName, Options, []) . Create a client for connecting to a database and create the database if needed.","ref":"couchbeam.html#open_or_create_db/3"},{"type":"function","title":"couchbeam.open_or_create_db/4","doc":"Create a client for connecting to a database and create the database if needed.","ref":"couchbeam.html#open_or_create_db/4"},{"type":"function","title":"couchbeam.put_attachment/4","doc":"Equivalent to  put_attachment(Db, DocId, Name, Body, []) . put an attachment","ref":"couchbeam.html#put_attachment/4"},{"type":"function","title":"couchbeam.put_attachment/5","doc":"put an attachment Body::body(), Option::optionList()) -> {ok, iolist()} optionList() = [option()] option() = {rev, string()} | {content_type, string()} | {content_length, string()} body() = [] | string() | binary() | fun_arity_0() | {fun_arity_1(), initial_state(), stream} initial_state() = term()","ref":"couchbeam.html#put_attachment/5"},{"type":"function","title":"couchbeam.replicate/2","doc":"Handle replication. Pass a map containing all information. It allows passing authentication info, etc. <span class=\"w\">  </span><span class=\"n\">RepObj</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2600355539-1\">#{</span><span class=\"w\">\n    </span><span class=\"p\" data-group-id=\"2600355539-2\">&lt;&lt;</span><span class=\"s\">&quot;source&quot;</span><span class=\"p\" data-group-id=\"2600355539-2\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2600355539-3\">&lt;&lt;</span><span class=\"s\">&quot;sourcedb&quot;</span><span class=\"p\" data-group-id=\"2600355539-3\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"p\" data-group-id=\"2600355539-4\">&lt;&lt;</span><span class=\"s\">&quot;target&quot;</span><span class=\"p\" data-group-id=\"2600355539-4\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2600355539-5\">&lt;&lt;</span><span class=\"s\">&quot;targetdb&quot;</span><span class=\"p\" data-group-id=\"2600355539-5\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"p\" data-group-id=\"2600355539-6\">&lt;&lt;</span><span class=\"s\">&quot;create_target&quot;</span><span class=\"p\" data-group-id=\"2600355539-6\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"ss\">true</span><span class=\"w\">\n  </span><span class=\"p\" data-group-id=\"2600355539-1\">}</span><span class=\"p\">.</span><span class=\"w\">\n  </span><span class=\"nf\">replicate</span><span class=\"p\" data-group-id=\"2600355539-7\">(</span><span class=\"n\">Server</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RepObj</span><span class=\"p\" data-group-id=\"2600355539-7\">)</span><span class=\"p\">.</span> -> {ok, Result}|{error, Error}","ref":"couchbeam.html#replicate/2"},{"type":"function","title":"couchbeam.replicate/3","doc":"Handle replication. -> {ok, Result}|{error, Error}","ref":"couchbeam.html#replicate/3"},{"type":"function","title":"couchbeam.replicate/4","doc":"handle Replication. Allows to pass options with source and target. Source and target can be either simple URI strings or complex document structures with authentication. Options is a Json object. ex: <span class=\"w\">  </span><span class=\"c1\">%% Simple URI replication</span><span class=\"w\">\n  </span><span class=\"n\">Options</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-1\">[</span><span class=\"p\" data-group-id=\"0793791674-2\">{</span><span class=\"p\" data-group-id=\"0793791674-3\">&lt;&lt;</span><span class=\"s\">&quot;create_target&quot;</span><span class=\"p\" data-group-id=\"0793791674-3\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">true</span><span class=\"p\" data-group-id=\"0793791674-2\">}</span><span class=\"p\" data-group-id=\"0793791674-1\">]</span><span class=\"p\">}</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nc\">couchbeam</span><span class=\"p\">:</span><span class=\"nf\">replicate</span><span class=\"p\" data-group-id=\"0793791674-4\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;testdb&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;testdb2&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Options</span><span class=\"p\" data-group-id=\"0793791674-4\">)</span><span class=\"p\">.</span><span class=\"w\">\n \n  </span><span class=\"c1\">%% Complex replication with authentication</span><span class=\"w\">\n  </span><span class=\"n\">Source</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;http://user:pass@remote.com:5984/db&quot;</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"n\">Target</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-5\">#{</span><span class=\"w\">\n    </span><span class=\"p\" data-group-id=\"0793791674-6\">&lt;&lt;</span><span class=\"s\">&quot;url&quot;</span><span class=\"p\" data-group-id=\"0793791674-6\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-7\">&lt;&lt;</span><span class=\"s\">&quot;http://localhost:5984/target_db&quot;</span><span class=\"p\" data-group-id=\"0793791674-7\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"p\" data-group-id=\"0793791674-8\">&lt;&lt;</span><span class=\"s\">&quot;auth&quot;</span><span class=\"p\" data-group-id=\"0793791674-8\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-9\">#{</span><span class=\"w\">\n      </span><span class=\"p\" data-group-id=\"0793791674-10\">&lt;&lt;</span><span class=\"s\">&quot;basic&quot;</span><span class=\"p\" data-group-id=\"0793791674-10\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-11\">#{</span><span class=\"p\" data-group-id=\"0793791674-12\">&lt;&lt;</span><span class=\"s\">&quot;username&quot;</span><span class=\"p\" data-group-id=\"0793791674-12\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-13\">&lt;&lt;</span><span class=\"s\">&quot;user&quot;</span><span class=\"p\" data-group-id=\"0793791674-13\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\">\n                       </span><span class=\"p\" data-group-id=\"0793791674-14\">&lt;&lt;</span><span class=\"s\">&quot;password&quot;</span><span class=\"p\" data-group-id=\"0793791674-14\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-15\">&lt;&lt;</span><span class=\"s\">&quot;pass&quot;</span><span class=\"p\" data-group-id=\"0793791674-15\">&gt;&gt;</span><span class=\"p\" data-group-id=\"0793791674-11\">}</span><span class=\"w\">\n    </span><span class=\"p\" data-group-id=\"0793791674-9\">}</span><span class=\"w\">\n  </span><span class=\"p\" data-group-id=\"0793791674-5\">}</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nc\">couchbeam</span><span class=\"p\">:</span><span class=\"nf\">replicate</span><span class=\"p\" data-group-id=\"0793791674-16\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Source</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Target</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0793791674-17\">[</span><span class=\"p\" data-group-id=\"0793791674-18\">{</span><span class=\"p\" data-group-id=\"0793791674-19\">&lt;&lt;</span><span class=\"s\">&quot;continuous&quot;</span><span class=\"p\" data-group-id=\"0793791674-19\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">true</span><span class=\"p\" data-group-id=\"0793791674-18\">}</span><span class=\"p\" data-group-id=\"0793791674-17\">]</span><span class=\"p\" data-group-id=\"0793791674-16\">)</span><span class=\"p\">.</span>","ref":"couchbeam.html#replicate/4"},{"type":"function","title":"couchbeam.save_doc/2","doc":"Equivalent to  save_doc(Db, Doc, []) . save a document","ref":"couchbeam.html#save_doc/2"},{"type":"function","title":"couchbeam.save_doc/3","doc":"save a *document A document is a Json object like this one: <span class=\"w\">          </span><span class=\"p\" data-group-id=\"5830797485-1\">#{</span><span class=\"w\">\n           </span><span class=\"p\" data-group-id=\"5830797485-2\">&lt;&lt;</span><span class=\"s\">&quot;_id&quot;</span><span class=\"p\" data-group-id=\"5830797485-2\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"5830797485-3\">&lt;&lt;</span><span class=\"s\">&quot;myid&quot;</span><span class=\"p\" data-group-id=\"5830797485-3\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\">\n           </span><span class=\"p\" data-group-id=\"5830797485-4\">&lt;&lt;</span><span class=\"s\">&quot;title&quot;</span><span class=\"p\" data-group-id=\"5830797485-4\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"5830797485-5\">&lt;&lt;</span><span class=\"s\">&quot;test&quot;</span><span class=\"p\" data-group-id=\"5830797485-5\">&gt;&gt;</span><span class=\"w\">\n       </span><span class=\"p\" data-group-id=\"5830797485-1\">}</span> Options are arguments passed to the request. This function return a new document with last revision and a docid. If _id isn't specified in document it will be created. Id is created by extracting an uuid from the couchdb node.","ref":"couchbeam.html#save_doc/3"},{"type":"function","title":"couchbeam.save_doc/4","doc":"save a *document with all its attacjments A document is a Json object like this one: <span class=\"w\">          </span><span class=\"p\" data-group-id=\"0658929996-1\">#{</span><span class=\"w\">\n           </span><span class=\"p\" data-group-id=\"0658929996-2\">&lt;&lt;</span><span class=\"s\">&quot;_id&quot;</span><span class=\"p\" data-group-id=\"0658929996-2\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0658929996-3\">&lt;&lt;</span><span class=\"s\">&quot;myid&quot;</span><span class=\"p\" data-group-id=\"0658929996-3\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\">\n           </span><span class=\"p\" data-group-id=\"0658929996-4\">&lt;&lt;</span><span class=\"s\">&quot;title&quot;</span><span class=\"p\" data-group-id=\"0658929996-4\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"0658929996-5\">&lt;&lt;</span><span class=\"s\">&quot;test&quot;</span><span class=\"p\" data-group-id=\"0658929996-5\">&gt;&gt;</span><span class=\"w\">\n       </span><span class=\"p\" data-group-id=\"0658929996-1\">}</span> Options are arguments passed to the request. This function return a new document with last revision and a docid. If _id isn't specified in document it will be created. Id is created by extracting an uuid from the couchdb node. If the attachments is not empty, the doc will be sent as multipart. Attachments are passed as a list of the following tuples: -  {Name :: binary(), Bin :: binary()}  -  {Name :: binary(), Bin :: binary(), Encoding :: binary()}  -  { Name :: binary(), Bin :: binary(), Type :: binary(), Encoding :: binary()}  -  { Name :: binary(), {file, Path :: string()}}  -  { Name :: binary(), {file, Path :: string()}, Encoding :: binary()}  -  { Name :: binary(), Fun :: fun(), Length :: integer()}  -  { Name :: binary(), Fun :: fun(), Length :: integer(), Encoding :: binary()}  -  {Name :: binary(), Fun :: fun(), Length :: integer(), Type :: binary(), Encoding :: binary()}  -  { Name :: binary(), {Fun :: fun(), Acc :: any()}, Length :: integer()}  -  { Name :: binary(), {Fun :: fun(), Acc :: any()}, Length :: integer(), Encoding :: binary()}  -  { Name :: binary(), {Fun :: fun(), Acc :: any()}, Length :: integer(), Type :: binary(), Encoding :: binary()}. where  Type` is the content-type of the attachments (detected in other case) and `Encoding` the encoding of the attachments: `<<\"identity\">>  if normal or  <<\"gzip\">>  if the attachments is gzipped.","ref":"couchbeam.html#save_doc/4"},{"type":"function","title":"couchbeam.save_docs/2","doc":"Equivalent to  save_docs(Db, Docs, []) . save a list of documents","ref":"couchbeam.html#save_docs/2"},{"type":"function","title":"couchbeam.save_docs/3","doc":"save a list of documents","ref":"couchbeam.html#save_docs/3"},{"type":"function","title":"couchbeam.send_attachment/2","doc":"send an attachment chunk Msg could be Data, eof to stop sending.","ref":"couchbeam.html#send_attachment/2"},{"type":"type","title":"couchbeam.server/0","doc":"","ref":"couchbeam.html#t:server/0"},{"type":"function","title":"couchbeam.server_connection/0","doc":"Equivalent to  server_connection(URL, Options) . Create a server for connectiong to a CouchDB node","ref":"couchbeam.html#server_connection/0"},{"type":"function","title":"couchbeam.server_connection/1","doc":"","ref":"couchbeam.html#server_connection/1"},{"type":"function","title":"couchbeam.server_connection/2","doc":"Equivalent to  server_connection(Host, Port, \"\", []) . Create a server for connectiong to a CouchDB node","ref":"couchbeam.html#server_connection/2"},{"type":"function","title":"couchbeam.server_connection/4","doc":"Create a server for connectiong to a CouchDB node Connections are made to: <span class=\"w\">          </span><span class=\"nc\">http</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"o\">/</span><span class=\"n\">Host</span><span class=\"p\">:</span><span class=\"n\">PortPrefix</span> If ssl is set https is used. For a description of SSL Options, look in the  ssl  manpage.","ref":"couchbeam.html#server_connection/4"},{"type":"function","title":"couchbeam.server_info/1","doc":"Get Information from the server","ref":"couchbeam.html#server_info/1"},{"type":"function","title":"couchbeam.stream_attachment/1","doc":"fetch an attachment chunk. Use this function when you pass the  stream  option to the  couchbeam:fetch_attachment/4  function. This function return the following response: done You got all the attachment {ok, binary()} Part of the attachment {error, term()} n error occurred","ref":"couchbeam.html#stream_attachment/1"},{"type":"function","title":"couchbeam.stream_doc/1","doc":"stream the multipart response of the doc API. Use this function when you get  {ok, {multipart, State}}  from the function  couchbeam:open_doc/3 .","ref":"couchbeam.html#stream_doc/1"},{"type":"function","title":"couchbeam.view_cleanup/1","doc":"","ref":"couchbeam.html#view_cleanup/1"},{"type":"module","title":"couchbeam_app","doc":"","ref":"couchbeam_app.html"},{"type":"function","title":"couchbeam_app.start/2","doc":"","ref":"couchbeam_app.html#start/2"},{"type":"function","title":"couchbeam_app.stop/1","doc":"","ref":"couchbeam_app.html#stop/1"},{"type":"module","title":"couchbeam_attachments","doc":"This module contains utilities to manage attachments","ref":"couchbeam_attachments.html"},{"type":"function","title":"couchbeam_attachments.add_inline/3","doc":"add attachment to a doc and encode it. Give possibility to send attachments inline.","ref":"couchbeam_attachments.html#add_inline/3"},{"type":"function","title":"couchbeam_attachments.add_inline/4","doc":"add attachment to a doc and encode it with ContentType fixed.","ref":"couchbeam_attachments.html#add_inline/4"},{"type":"function","title":"couchbeam_attachments.add_stub/3","doc":"","ref":"couchbeam_attachments.html#add_stub/3"},{"type":"function","title":"couchbeam_attachments.delete_inline/2","doc":"delete an attachment record in doc. This is different from delete_attachment change is only applied in Doc object. Save_doc should be save to save changes.","ref":"couchbeam_attachments.html#delete_inline/2"},{"type":"type","title":"couchbeam_attachments.doc/0","doc":"","ref":"couchbeam_attachments.html#t:doc/0"},{"type":"type","title":"couchbeam_attachments.ejson_object/0","doc":"","ref":"couchbeam_attachments.html#t:ejson_object/0"},{"type":"module","title":"couchbeam_changes","doc":"","ref":"couchbeam_changes.html"},{"type":"function","title":"couchbeam_changes.cancel_stream/1","doc":"","ref":"couchbeam_changes.html#cancel_stream/1"},{"type":"type","title":"couchbeam_changes.changes_option/0","doc":"","ref":"couchbeam_changes.html#t:changes_option/0"},{"type":"type","title":"couchbeam_changes.changes_options/0","doc":"","ref":"couchbeam_changes.html#t:changes_options/0"},{"type":"type","title":"couchbeam_changes.db/0","doc":"","ref":"couchbeam_changes.html#t:db/0"},{"type":"function","title":"couchbeam_changes.follow/1","doc":"","ref":"couchbeam_changes.html#follow/1"},{"type":"function","title":"couchbeam_changes.follow/2","doc":"Stream changes to a pid Db : a db record Client : pid or callback where to send changes events where events are The pid receive these events: {change, StartRef, {done, Lastseq::integer()} Connection terminated or you got all changes {change, StartRef, Row :: ejson_object()} Line of change {error, LastSeq::integer(), Msg::term()} Got an error, connection is closed when an error happend. LastSeq is the last sequence of changes. While the callbac could be like: <span class=\"w\">       </span><span class=\"nf\">fun</span><span class=\"p\" data-group-id=\"4156723906-1\">(</span><span class=\"p\" data-group-id=\"4156723906-2\">{</span><span class=\"ss\">done</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">LastSeq</span><span class=\"p\" data-group-id=\"4156723906-2\">}</span><span class=\"p\" data-group-id=\"4156723906-1\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\">\n           </span><span class=\"ss\">ok</span><span class=\"p\">;</span><span class=\"w\">\n       </span><span class=\"nf\">fun</span><span class=\"p\" data-group-id=\"4156723906-3\">(</span><span class=\"p\" data-group-id=\"4156723906-4\">{</span><span class=\"ss\">done</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">LastSeq</span><span class=\"p\" data-group-id=\"4156723906-4\">}</span><span class=\"p\" data-group-id=\"4156723906-3\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\">\n           </span><span class=\"ss\">ok</span><span class=\"p\">;</span><span class=\"w\">\n       </span><span class=\"nf\">fun</span><span class=\"p\" data-group-id=\"4156723906-5\">(</span><span class=\"p\" data-group-id=\"4156723906-6\">{</span><span class=\"ss\">done</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">LastSeq</span><span class=\"p\" data-group-id=\"4156723906-6\">}</span><span class=\"p\" data-group-id=\"4156723906-5\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\">\n           </span><span class=\"ss\">ok</span><span class=\"p\">.</span> <span class=\"o\">&gt;</span><span class=\"n\">Options</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nf\">changes_stream_options</span><span class=\"p\" data-group-id=\"2951266453-1\">(</span><span class=\"p\" data-group-id=\"2951266453-1\">)</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-2\">[</span><span class=\"ss\">continuous</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">longpoll</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">normal</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">include_docs</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-3\">{</span><span class=\"ss\">since</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"2951266453-4\">(</span><span class=\"p\" data-group-id=\"2951266453-4\">)</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">now</span><span class=\"p\" data-group-id=\"2951266453-3\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-5\">{</span><span class=\"ss\">timeout</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"2951266453-6\">(</span><span class=\"p\" data-group-id=\"2951266453-6\">)</span><span class=\"p\" data-group-id=\"2951266453-5\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">heartbeat</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-7\">{</span><span class=\"ss\">heartbeat</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"2951266453-8\">(</span><span class=\"p\" data-group-id=\"2951266453-8\">)</span><span class=\"p\" data-group-id=\"2951266453-7\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-9\">{</span><span class=\"ss\">filter</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"2951266453-10\">(</span><span class=\"p\" data-group-id=\"2951266453-10\">)</span><span class=\"p\" data-group-id=\"2951266453-9\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-11\">{</span><span class=\"ss\">filter</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"2951266453-12\">(</span><span class=\"p\" data-group-id=\"2951266453-12\">)</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">list</span><span class=\"p\" data-group-id=\"2951266453-13\">(</span><span class=\"p\" data-group-id=\"2951266453-14\">{</span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"2951266453-15\">(</span><span class=\"p\" data-group-id=\"2951266453-15\">)</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"2951266453-16\">(</span><span class=\"p\" data-group-id=\"2951266453-16\">)</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"2951266453-17\">(</span><span class=\"p\" data-group-id=\"2951266453-17\">)</span><span class=\"p\" data-group-id=\"2951266453-14\">}</span><span class=\"p\" data-group-id=\"2951266453-13\">)</span><span class=\"p\" data-group-id=\"2951266453-11\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-18\">{</span><span class=\"ss\">view</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"2951266453-19\">(</span><span class=\"p\" data-group-id=\"2951266453-19\">)</span><span class=\"p\" data-group-id=\"2951266453-18\">}</span><span class=\"p\">,</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-20\">{</span><span class=\"ss\">docids</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">list</span><span class=\"p\">)</span><span class=\"p\">)</span><span class=\"p\" data-group-id=\"2951266453-20\">}</span><span class=\"p\">,</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-21\">{</span><span class=\"ss\">stream_to</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">pid</span><span class=\"p\" data-group-id=\"2951266453-22\">(</span><span class=\"p\" data-group-id=\"2951266453-22\">)</span><span class=\"p\" data-group-id=\"2951266453-21\">}</span><span class=\"p\">,</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"2951266453-23\">{</span><span class=\"ss\">async</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">once</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">normal</span><span class=\"p\" data-group-id=\"2951266453-23\">}</span><span class=\"p\" data-group-id=\"2951266453-2\">]</span> continuous | longpoll | normal : set the type of changes feed to get include_doc : if you want to include the doc in the line of change {timeout, Timeout::integer()} : timeout heartbeat | {heartbeat, Heartbeat::integer()} : set couchdb to send a heartbeat to maintain connection open {filter, FilterName} | {filter, FilterName, Args::list({key, value})} : set the filter to use with optional arguments {view, ViewName} : use a view function as filter. Note that it requires to set filter special value  \"_view\"  to enable this feature. > {stream_to, Pid} : the pid where the changes will be sent, by default the current pid. Used for continuous and longpoll connections Return {ok, StartRef, ChangesPid} or {error, Error}. Ref can be used to disctint all changes from this pid. ChangesPid is the pid of the changes loop process. Can be used to monitor it or kill it when needed.","ref":"couchbeam_changes.html#follow/2"},{"type":"function","title":"couchbeam_changes.follow_once/1","doc":"","ref":"couchbeam_changes.html#follow_once/1"},{"type":"function","title":"couchbeam_changes.follow_once/2","doc":"fetch all changes at once using a normal or longpoll connections. Db : a db record <span class=\"n\">Options</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nf\">changes_options</span><span class=\"p\" data-group-id=\"1905556311-1\">(</span><span class=\"p\" data-group-id=\"1905556311-1\">)</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-2\">[</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">longpoll</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">normal</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">include_docs</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-3\">{</span><span class=\"ss\">since</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"1905556311-4\">(</span><span class=\"p\" data-group-id=\"1905556311-4\">)</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">now</span><span class=\"p\" data-group-id=\"1905556311-3\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-5\">{</span><span class=\"ss\">timeout</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"1905556311-6\">(</span><span class=\"p\" data-group-id=\"1905556311-6\">)</span><span class=\"p\" data-group-id=\"1905556311-5\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">heartbeat</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-7\">{</span><span class=\"ss\">heartbeat</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"1905556311-8\">(</span><span class=\"p\" data-group-id=\"1905556311-8\">)</span><span class=\"p\" data-group-id=\"1905556311-7\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-9\">{</span><span class=\"ss\">filter</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"1905556311-10\">(</span><span class=\"p\" data-group-id=\"1905556311-10\">)</span><span class=\"p\" data-group-id=\"1905556311-9\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-11\">{</span><span class=\"ss\">filter</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"1905556311-12\">(</span><span class=\"p\" data-group-id=\"1905556311-12\">)</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">list</span><span class=\"p\" data-group-id=\"1905556311-13\">(</span><span class=\"p\" data-group-id=\"1905556311-14\">{</span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"1905556311-15\">(</span><span class=\"p\" data-group-id=\"1905556311-15\">)</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">string</span><span class=\"p\" data-group-id=\"1905556311-16\">(</span><span class=\"p\" data-group-id=\"1905556311-16\">)</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"1905556311-17\">(</span><span class=\"p\" data-group-id=\"1905556311-17\">)</span><span class=\"p\" data-group-id=\"1905556311-14\">}</span><span class=\"p\" data-group-id=\"1905556311-13\">)</span><span class=\"p\" data-group-id=\"1905556311-11\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-18\">{</span><span class=\"ss\">docids</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">list</span><span class=\"p\" data-group-id=\"1905556311-19\">(</span><span class=\"p\" data-group-id=\"1905556311-19\">)</span><span class=\"p\">)</span><span class=\"p\">)</span><span class=\"p\" data-group-id=\"1905556311-18\">}</span><span class=\"p\">,</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"1905556311-20\">{</span><span class=\"ss\">stream_to</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">pid</span><span class=\"p\" data-group-id=\"1905556311-21\">(</span><span class=\"p\" data-group-id=\"1905556311-21\">)</span><span class=\"p\" data-group-id=\"1905556311-20\">}</span><span class=\"w\">\n     </span><span class=\"p\" data-group-id=\"1905556311-2\">]</span> longpoll | normal : set the type of changes feed to get include_docs : if you want to include the doc in the line of change {timeout, Timeout::integer()} : timeout heartbeat | {heartbeat, Heartbeat::integer()} : set couchdb to send a heartbeat to maintain connection open {filter, FilterName} | {filter, FilterName, Args::list({key, value}) : set the filter to use with optional arguments {view, ViewName} : use a view function as filter. Note that it requires to set filter special value  \"_view\"  to enable this feature. Result:  {ok, LastSeq::integer(), Rows::list()}  or  {error, LastSeq, Error} . LastSeq is the last sequence of changes.","ref":"couchbeam_changes.html#follow_once/2"},{"type":"type","title":"couchbeam_changes.server/0","doc":"","ref":"couchbeam_changes.html#t:server/0"},{"type":"function","title":"couchbeam_changes.stream_next/1","doc":"","ref":"couchbeam_changes.html#stream_next/1"},{"type":"module","title":"couchbeam_changes_stream","doc":"","ref":"couchbeam_changes_stream.html"},{"type":"function","title":"couchbeam_changes_stream.init_stream/5","doc":"","ref":"couchbeam_changes_stream.html#init_stream/5"},{"type":"function","title":"couchbeam_changes_stream.maybe_continue/1","doc":"","ref":"couchbeam_changes_stream.html#maybe_continue/1"},{"type":"function","title":"couchbeam_changes_stream.start_link/4","doc":"","ref":"couchbeam_changes_stream.html#start_link/4"},{"type":"function","title":"couchbeam_changes_stream.system_code_change/4","doc":"","ref":"couchbeam_changes_stream.html#system_code_change/4"},{"type":"function","title":"couchbeam_changes_stream.system_continue/3","doc":"","ref":"couchbeam_changes_stream.html#system_continue/3"},{"type":"function","title":"couchbeam_changes_stream.system_terminate/4","doc":"","ref":"couchbeam_changes_stream.html#system_terminate/4"},{"type":"function","title":"couchbeam_changes_stream.wait_reconnect/1","doc":"","ref":"couchbeam_changes_stream.html#wait_reconnect/1"},{"type":"module","title":"couchbeam_changes_sup","doc":"","ref":"couchbeam_changes_sup.html"},{"type":"function","title":"couchbeam_changes_sup.init/1","doc":"","ref":"couchbeam_changes_sup.html#init/1"},{"type":"function","title":"couchbeam_changes_sup.start_link/0","doc":"","ref":"couchbeam_changes_sup.html#start_link/0"},{"type":"module","title":"couchbeam_doc","doc":"","ref":"couchbeam_doc.html"},{"type":"function","title":"couchbeam_doc.delete_value/2","doc":"Deletes all entries associated with Key in json object.","ref":"couchbeam_doc.html#delete_value/2"},{"type":"type","title":"couchbeam_doc.doc/0","doc":"","ref":"couchbeam_doc.html#t:doc/0"},{"type":"type","title":"couchbeam_doc.ejson_array/0","doc":"","ref":"couchbeam_doc.html#t:ejson_array/0"},{"type":"type","title":"couchbeam_doc.ejson_number/0","doc":"","ref":"couchbeam_doc.html#t:ejson_number/0"},{"type":"type","title":"couchbeam_doc.ejson_object/0","doc":"","ref":"couchbeam_doc.html#t:ejson_object/0"},{"type":"type","title":"couchbeam_doc.ejson_string/0","doc":"","ref":"couchbeam_doc.html#t:ejson_string/0"},{"type":"type","title":"couchbeam_doc.ejson_term/0","doc":"","ref":"couchbeam_doc.html#t:ejson_term/0"},{"type":"function","title":"couchbeam_doc.extend/2","doc":"extend a jsonobject by a property, list of property or another jsonobject","ref":"couchbeam_doc.html#extend/2"},{"type":"function","title":"couchbeam_doc.extend/3","doc":"extend a jsonobject by key, value","ref":"couchbeam_doc.html#extend/3"},{"type":"function","title":"couchbeam_doc.get_id/1","doc":"get document id.","ref":"couchbeam_doc.html#get_id/1"},{"type":"function","title":"couchbeam_doc.get_idrev/1","doc":"get a tuple containing docucment id and revision.","ref":"couchbeam_doc.html#get_idrev/1"},{"type":"function","title":"couchbeam_doc.get_rev/1","doc":"get document revision.","ref":"couchbeam_doc.html#get_rev/1"},{"type":"function","title":"couchbeam_doc.get_value/2","doc":"Returns the value of a simple key/value property in json object Equivalent to get_value(Key, JsonObj, undefined).","ref":"couchbeam_doc.html#get_value/2"},{"type":"function","title":"couchbeam_doc.get_value/3","doc":"Returns the value of a simple key/value property in json object function from erlang_couchdb","ref":"couchbeam_doc.html#get_value/3"},{"type":"function","title":"couchbeam_doc.is_saved/1","doc":"If document have been saved (revision is defined) return true, else, return false.","ref":"couchbeam_doc.html#is_saved/1"},{"type":"function","title":"couchbeam_doc.set_value/3","doc":"set a value for a key in jsonobj. If key exists it will be updated.","ref":"couchbeam_doc.html#set_value/3"},{"type":"function","title":"couchbeam_doc.take_value/2","doc":"Returns the value of a simple key/value property in json object and deletes it form json object Equivalent to take_value(Key, JsonObj, undefined).","ref":"couchbeam_doc.html#take_value/2"},{"type":"function","title":"couchbeam_doc.take_value/3","doc":"Returns the value of a simple key/value property in json object and deletes it from json object","ref":"couchbeam_doc.html#take_value/3"},{"type":"module","title":"couchbeam_ejson","doc":"","ref":"couchbeam_ejson.html"},{"type":"function","title":"couchbeam_ejson.decode/1","doc":"decode a binary to an EJSON term. Throw an exception if there is any error.","ref":"couchbeam_ejson.html#decode/1"},{"type":"type","title":"couchbeam_ejson.ejson/0","doc":"","ref":"couchbeam_ejson.html#t:ejson/0"},{"type":"type","title":"couchbeam_ejson.ejson_array/0","doc":"","ref":"couchbeam_ejson.html#t:ejson_array/0"},{"type":"type","title":"couchbeam_ejson.ejson_number/0","doc":"","ref":"couchbeam_ejson.html#t:ejson_number/0"},{"type":"type","title":"couchbeam_ejson.ejson_object/0","doc":"","ref":"couchbeam_ejson.html#t:ejson_object/0"},{"type":"type","title":"couchbeam_ejson.ejson_string/0","doc":"","ref":"couchbeam_ejson.html#t:ejson_string/0"},{"type":"type","title":"couchbeam_ejson.ejson_term/0","doc":"","ref":"couchbeam_ejson.html#t:ejson_term/0"},{"type":"function","title":"couchbeam_ejson.encode/1","doc":"encode an erlang term to JSON. Throw an exception if there is any error.","ref":"couchbeam_ejson.html#encode/1"},{"type":"function","title":"couchbeam_ejson.post_decode/1","doc":"","ref":"couchbeam_ejson.html#post_decode/1"},{"type":"module","title":"couchbeam_httpc","doc":"","ref":"couchbeam_httpc.html"},{"type":"type","title":"couchbeam_httpc.db/0","doc":"","ref":"couchbeam_httpc.html#t:db/0"},{"type":"function","title":"couchbeam_httpc.db_request/5","doc":"","ref":"couchbeam_httpc.html#db_request/5"},{"type":"function","title":"couchbeam_httpc.db_request/6","doc":"","ref":"couchbeam_httpc.html#db_request/6"},{"type":"function","title":"couchbeam_httpc.db_resp/2","doc":"","ref":"couchbeam_httpc.html#db_resp/2"},{"type":"function","title":"couchbeam_httpc.db_url/1","doc":"","ref":"couchbeam_httpc.html#db_url/1"},{"type":"function","title":"couchbeam_httpc.doc_url/2","doc":"","ref":"couchbeam_httpc.html#doc_url/2"},{"type":"function","title":"couchbeam_httpc.json_body/1","doc":"","ref":"couchbeam_httpc.html#json_body/1"},{"type":"function","title":"couchbeam_httpc.make_headers/4","doc":"","ref":"couchbeam_httpc.html#make_headers/4"},{"type":"function","title":"couchbeam_httpc.maybe_oauth_header/4","doc":"","ref":"couchbeam_httpc.html#maybe_oauth_header/4"},{"type":"function","title":"couchbeam_httpc.request/5","doc":"","ref":"couchbeam_httpc.html#request/5"},{"type":"type","title":"couchbeam_httpc.server/0","doc":"","ref":"couchbeam_httpc.html#t:server/0"},{"type":"function","title":"couchbeam_httpc.server_url/1","doc":"Asemble the server URL for the given client","ref":"couchbeam_httpc.html#server_url/1"},{"type":"module","title":"couchbeam_sup","doc":"","ref":"couchbeam_sup.html"},{"type":"function","title":"couchbeam_sup.init/1","doc":"","ref":"couchbeam_sup.html#init/1"},{"type":"function","title":"couchbeam_sup.start_link/0","doc":"","ref":"couchbeam_sup.html#start_link/0"},{"type":"module","title":"couchbeam_util","doc":"","ref":"couchbeam_util.html"},{"type":"function","title":"couchbeam_util.binary_env/2","doc":"","ref":"couchbeam_util.html#binary_env/2"},{"type":"function","title":"couchbeam_util.dbname/1","doc":"","ref":"couchbeam_util.html#dbname/1"},{"type":"function","title":"couchbeam_util.deprecated/3","doc":"","ref":"couchbeam_util.html#deprecated/3"},{"type":"function","title":"couchbeam_util.encode_att_name/1","doc":"","ref":"couchbeam_util.html#encode_att_name/1"},{"type":"function","title":"couchbeam_util.encode_docid1/1","doc":"","ref":"couchbeam_util.html#encode_docid1/1"},{"type":"function","title":"couchbeam_util.encode_docid/1","doc":"","ref":"couchbeam_util.html#encode_docid/1"},{"type":"function","title":"couchbeam_util.encode_docid_noop/1","doc":"","ref":"couchbeam_util.html#encode_docid_noop/1"},{"type":"function","title":"couchbeam_util.encode_query/1","doc":"Encode needed query parameter values for JSON","ref":"couchbeam_util.html#encode_query/1"},{"type":"function","title":"couchbeam_util.encode_query_value/2","doc":"Encode value in JSON if needed depending on the key","ref":"couchbeam_util.html#encode_query_value/2"},{"type":"function","title":"couchbeam_util.force_param/3","doc":"Replace a value in a property list","ref":"couchbeam_util.html#force_param/3"},{"type":"function","title":"couchbeam_util.get_app_env/2","doc":"","ref":"couchbeam_util.html#get_app_env/2"},{"type":"function","title":"couchbeam_util.get_value/2","doc":"Emulate proplists:get_value/2,3 for property lists but use faster lists:keyfind/3","ref":"couchbeam_util.html#get_value/2"},{"type":"function","title":"couchbeam_util.get_value/3","doc":"","ref":"couchbeam_util.html#get_value/3"},{"type":"function","title":"couchbeam_util.oauth_header/3","doc":"","ref":"couchbeam_util.html#oauth_header/3"},{"type":"function","title":"couchbeam_util.parse_options/1","doc":"make view options a list","ref":"couchbeam_util.html#parse_options/1"},{"type":"function","title":"couchbeam_util.parse_options/2","doc":"","ref":"couchbeam_util.html#parse_options/2"},{"type":"function","title":"couchbeam_util.propmerge1/2","doc":"Update a property list with values of the second. In case the same key is in both lists, the value from the first is kept.","ref":"couchbeam_util.html#propmerge1/2"},{"type":"function","title":"couchbeam_util.propmerge/3","doc":"Merge two property lists (lists of {Key,Value}). All the Key - Value pairs from both lists are included in the new list. If a key occurs in both dictionaries then Fun is called with the key and both values to return a new value. This a wreapper around dict:merge","ref":"couchbeam_util.html#propmerge/3"},{"type":"function","title":"couchbeam_util.proxy_header/3","doc":"","ref":"couchbeam_util.html#proxy_header/3"},{"type":"function","title":"couchbeam_util.proxy_token/2","doc":"","ref":"couchbeam_util.html#proxy_token/2"},{"type":"function","title":"couchbeam_util.shutdown_sync/1","doc":"","ref":"couchbeam_util.html#shutdown_sync/1"},{"type":"function","title":"couchbeam_util.start_app_deps/1","doc":"Start depedent applications of App.","ref":"couchbeam_util.html#start_app_deps/1"},{"type":"function","title":"couchbeam_util.to_atom/1","doc":"","ref":"couchbeam_util.html#to_atom/1"},{"type":"function","title":"couchbeam_util.to_binary/1","doc":"","ref":"couchbeam_util.html#to_binary/1"},{"type":"function","title":"couchbeam_util.to_integer/1","doc":"","ref":"couchbeam_util.html#to_integer/1"},{"type":"function","title":"couchbeam_util.to_list/1","doc":"","ref":"couchbeam_util.html#to_list/1"},{"type":"module","title":"couchbeam_uuids","doc":"","ref":"couchbeam_uuids.html"},{"type":"function","title":"couchbeam_uuids.code_change/3","doc":"","ref":"couchbeam_uuids.html#code_change/3"},{"type":"function","title":"couchbeam_uuids.get_uuids/2","doc":"Get a list of uuids from the server","ref":"couchbeam_uuids.html#get_uuids/2"},{"type":"function","title":"couchbeam_uuids.handle_call/3","doc":"","ref":"couchbeam_uuids.html#handle_call/3"},{"type":"function","title":"couchbeam_uuids.handle_cast/2","doc":"","ref":"couchbeam_uuids.html#handle_cast/2"},{"type":"function","title":"couchbeam_uuids.handle_info/2","doc":"","ref":"couchbeam_uuids.html#handle_info/2"},{"type":"function","title":"couchbeam_uuids.init/1","doc":"","ref":"couchbeam_uuids.html#init/1"},{"type":"function","title":"couchbeam_uuids.random/0","doc":"return a random uuid","ref":"couchbeam_uuids.html#random/0"},{"type":"type","title":"couchbeam_uuids.server/0","doc":"","ref":"couchbeam_uuids.html#t:server/0"},{"type":"function","title":"couchbeam_uuids.start_link/0","doc":"Starts the couchbeam process linked to the calling process. Usually invoked by the supervisor couchbeam_sup","ref":"couchbeam_uuids.html#start_link/0"},{"type":"function","title":"couchbeam_uuids.terminate/2","doc":"","ref":"couchbeam_uuids.html#terminate/2"},{"type":"function","title":"couchbeam_uuids.utc_random/0","doc":"return a random uuid based on time","ref":"couchbeam_uuids.html#utc_random/0"},{"type":"module","title":"couchbeam_view","doc":"","ref":"couchbeam_view.html"},{"type":"function","title":"couchbeam_view.all/1","doc":"Equivalent to  fetch(Db, all_docs, []) . fetch all docs","ref":"couchbeam_view.html#all/1"},{"type":"function","title":"couchbeam_view.all/2","doc":"Equivalent to  fetch(Db, all_docs, Options) . fetch all docs","ref":"couchbeam_view.html#all/2"},{"type":"function","title":"couchbeam_view.cancel_stream/1","doc":"","ref":"couchbeam_view.html#cancel_stream/1"},{"type":"function","title":"couchbeam_view.count/1","doc":"Equivalent to  count(Db, all_docs, []) .","ref":"couchbeam_view.html#count/1"},{"type":"function","title":"couchbeam_view.count/2","doc":"Equivalent to  count(Db, ViewName, []) .","ref":"couchbeam_view.html#count/2"},{"type":"function","title":"couchbeam_view.count/3","doc":"count number of doc in a view (or all docs)","ref":"couchbeam_view.html#count/3"},{"type":"type","title":"couchbeam_view.db/0","doc":"","ref":"couchbeam_view.html#t:db/0"},{"type":"type","title":"couchbeam_view.design_name/0","doc":"","ref":"couchbeam_view.html#t:design_name/0"},{"type":"type","title":"couchbeam_view.ejson_object/0","doc":"","ref":"couchbeam_view.html#t:ejson_object/0"},{"type":"function","title":"couchbeam_view.fetch/1","doc":"Equivalent to  fetch(Db, all_docs, []) .","ref":"couchbeam_view.html#fetch/1"},{"type":"function","title":"couchbeam_view.fetch/2","doc":"Equivalent to  fetch(Db, ViewName, []) .","ref":"couchbeam_view.html#fetch/2"},{"type":"function","title":"couchbeam_view.fetch/3","doc":"Collect view results Db: a db record ViewName:  'all_docs'  to get all docs or  {DesignName, ViewName} <span class=\"n\">Options</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nf\">view_options</span><span class=\"p\" data-group-id=\"3409371521-1\">(</span><span class=\"p\" data-group-id=\"3409371521-1\">)</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-2\">[</span><span class=\"p\" data-group-id=\"3409371521-3\">{</span><span class=\"ss\">key</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-4\">(</span><span class=\"p\" data-group-id=\"3409371521-4\">)</span><span class=\"p\" data-group-id=\"3409371521-3\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-5\">{</span><span class=\"ss\">start_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-6\">(</span><span class=\"p\" data-group-id=\"3409371521-6\">)</span><span class=\"p\" data-group-id=\"3409371521-5\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-7\">{</span><span class=\"ss\">startkey_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-8\">(</span><span class=\"p\" data-group-id=\"3409371521-8\">)</span><span class=\"p\" data-group-id=\"3409371521-7\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-9\">{</span><span class=\"ss\">end_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-10\">(</span><span class=\"p\" data-group-id=\"3409371521-10\">)</span><span class=\"p\" data-group-id=\"3409371521-9\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-11\">{</span><span class=\"ss\">endkey_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-12\">(</span><span class=\"p\" data-group-id=\"3409371521-12\">)</span><span class=\"p\" data-group-id=\"3409371521-11\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-13\">{</span><span class=\"ss\">start_key</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-14\">(</span><span class=\"p\" data-group-id=\"3409371521-14\">)</span><span class=\"p\" data-group-id=\"3409371521-13\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-15\">{</span><span class=\"ss\">end_key</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-16\">(</span><span class=\"p\" data-group-id=\"3409371521-16\">)</span><span class=\"p\" data-group-id=\"3409371521-15\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-17\">{</span><span class=\"ss\">limit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"3409371521-18\">(</span><span class=\"p\" data-group-id=\"3409371521-18\">)</span><span class=\"p\" data-group-id=\"3409371521-17\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-19\">{</span><span class=\"ss\">stale</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">stale</span><span class=\"p\" data-group-id=\"3409371521-20\">(</span><span class=\"p\" data-group-id=\"3409371521-20\">)</span><span class=\"p\" data-group-id=\"3409371521-19\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">descending</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-21\">{</span><span class=\"ss\">skip</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"3409371521-22\">(</span><span class=\"p\" data-group-id=\"3409371521-22\">)</span><span class=\"p\" data-group-id=\"3409371521-21\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">group</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-23\">{</span><span class=\"ss\">group_level</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"3409371521-24\">(</span><span class=\"p\" data-group-id=\"3409371521-24\">)</span><span class=\"p\" data-group-id=\"3409371521-23\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-25\">{</span><span class=\"ss\">inclusive_end</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">boolean</span><span class=\"p\" data-group-id=\"3409371521-26\">(</span><span class=\"p\" data-group-id=\"3409371521-26\">)</span><span class=\"p\" data-group-id=\"3409371521-25\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-27\">{</span><span class=\"ss\">reduce</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">boolean</span><span class=\"p\" data-group-id=\"3409371521-28\">(</span><span class=\"p\" data-group-id=\"3409371521-28\">)</span><span class=\"p\" data-group-id=\"3409371521-27\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">reduce</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">include_docs</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">conflicts</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3409371521-29\">{</span><span class=\"ss\">keys</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">list</span><span class=\"p\" data-group-id=\"3409371521-30\">(</span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"3409371521-31\">(</span><span class=\"p\" data-group-id=\"3409371521-31\">)</span><span class=\"p\" data-group-id=\"3409371521-30\">)</span><span class=\"p\" data-group-id=\"3409371521-29\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">async_query</span> See  couchbeam_view:stream/3  for more information about options. Return: {ok, Rows} or {error, Error}","ref":"couchbeam_view.html#fetch/3"},{"type":"function","title":"couchbeam_view.first/1","doc":"","ref":"couchbeam_view.html#first/1"},{"type":"function","title":"couchbeam_view.first/2","doc":"Equivalent to  first(Db, ViewName, []) .","ref":"couchbeam_view.html#first/2"},{"type":"function","title":"couchbeam_view.first/3","doc":"get first result of a view Db: a db record ViewName: 'all_docs' to get all docs or {DesignName, ViewName} <span class=\"n\">Options</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nf\">view_options</span><span class=\"p\" data-group-id=\"6346577001-1\">(</span><span class=\"p\" data-group-id=\"6346577001-1\">)</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-2\">[</span><span class=\"p\" data-group-id=\"6346577001-3\">{</span><span class=\"ss\">key</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-4\">(</span><span class=\"p\" data-group-id=\"6346577001-4\">)</span><span class=\"p\" data-group-id=\"6346577001-3\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-5\">{</span><span class=\"ss\">start_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-6\">(</span><span class=\"p\" data-group-id=\"6346577001-6\">)</span><span class=\"p\" data-group-id=\"6346577001-5\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-7\">{</span><span class=\"ss\">startkey_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-8\">(</span><span class=\"p\" data-group-id=\"6346577001-8\">)</span><span class=\"p\" data-group-id=\"6346577001-7\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-9\">{</span><span class=\"ss\">end_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-10\">(</span><span class=\"p\" data-group-id=\"6346577001-10\">)</span><span class=\"p\" data-group-id=\"6346577001-9\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-11\">{</span><span class=\"ss\">endkey_docid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-12\">(</span><span class=\"p\" data-group-id=\"6346577001-12\">)</span><span class=\"p\" data-group-id=\"6346577001-11\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-13\">{</span><span class=\"ss\">start_key</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-14\">(</span><span class=\"p\" data-group-id=\"6346577001-14\">)</span><span class=\"p\" data-group-id=\"6346577001-13\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-15\">{</span><span class=\"ss\">end_key</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-16\">(</span><span class=\"p\" data-group-id=\"6346577001-16\">)</span><span class=\"p\" data-group-id=\"6346577001-15\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-17\">{</span><span class=\"ss\">limit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"6346577001-18\">(</span><span class=\"p\" data-group-id=\"6346577001-18\">)</span><span class=\"p\" data-group-id=\"6346577001-17\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-19\">{</span><span class=\"ss\">stale</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">stale</span><span class=\"p\" data-group-id=\"6346577001-20\">(</span><span class=\"p\" data-group-id=\"6346577001-20\">)</span><span class=\"p\" data-group-id=\"6346577001-19\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">descending</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-21\">{</span><span class=\"ss\">skip</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"6346577001-22\">(</span><span class=\"p\" data-group-id=\"6346577001-22\">)</span><span class=\"p\" data-group-id=\"6346577001-21\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">group</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-23\">{</span><span class=\"ss\">group_level</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">integer</span><span class=\"p\" data-group-id=\"6346577001-24\">(</span><span class=\"p\" data-group-id=\"6346577001-24\">)</span><span class=\"p\" data-group-id=\"6346577001-23\">}</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-25\">{</span><span class=\"ss\">inclusive_end</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">boolean</span><span class=\"p\" data-group-id=\"6346577001-26\">(</span><span class=\"p\" data-group-id=\"6346577001-26\">)</span><span class=\"p\" data-group-id=\"6346577001-25\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-27\">{</span><span class=\"ss\">reduce</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">boolean</span><span class=\"p\" data-group-id=\"6346577001-28\">(</span><span class=\"p\" data-group-id=\"6346577001-28\">)</span><span class=\"p\" data-group-id=\"6346577001-27\">}</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">reduce</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">include_docs</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"ss\">conflicts</span><span class=\"w\">\n     </span><span class=\"p\">|</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"6346577001-29\">{</span><span class=\"ss\">keys</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nf\">list</span><span class=\"p\" data-group-id=\"6346577001-30\">(</span><span class=\"nf\">binary</span><span class=\"p\" data-group-id=\"6346577001-31\">(</span><span class=\"p\" data-group-id=\"6346577001-31\">)</span><span class=\"p\" data-group-id=\"6346577001-30\">)</span><span class=\"p\" data-group-id=\"6346577001-29\">}</span> See  couchbeam_view:stream/3  for more information about options. Return: {ok, Row} or {error, Error}","ref":"couchbeam_view.html#first/3"},{"type":"function","title":"couchbeam_view.fold/4","doc":"Equivalent to  fold(Function, Acc, Db, ViewName, []) .","ref":"couchbeam_view.html#fold/4"},{"type":"function","title":"couchbeam_view.fold/5","doc":"call Function(Row, AccIn) on succesive row, starting with AccIn == Acc. Function/2 must return a new list accumultator or the atom  done  to stop fetching results. Acc0 is returned if the list is empty. For example: <span class=\"w\">  </span><span class=\"nc\">couchbeam_view</span><span class=\"p\">:</span><span class=\"nf\">fold</span><span class=\"p\" data-group-id=\"3914532202-1\">(</span><span class=\"nf\">fun</span><span class=\"p\" data-group-id=\"3914532202-2\">(</span><span class=\"n\">Row</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Acc</span><span class=\"p\" data-group-id=\"3914532202-2\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3914532202-3\">[</span><span class=\"n\">Row</span><span class=\"p\">|</span><span class=\"n\">Acc</span><span class=\"p\" data-group-id=\"3914532202-3\">]</span><span class=\"w\"> </span><span class=\"k\">end</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"3914532202-4\">[</span><span class=\"p\" data-group-id=\"3914532202-4\">]</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Db</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">&#39;all_docs&#39;</span><span class=\"p\" data-group-id=\"3914532202-1\">)</span><span class=\"p\">.</span>","ref":"couchbeam_view.html#fold/5"},{"type":"function","title":"couchbeam_view.foreach/3","doc":"Equivalent to  foreach(Function, Db, ViewName, []) .","ref":"couchbeam_view.html#foreach/3"},{"type":"function","title":"couchbeam_view.foreach/4","doc":"call Function(Row) on succesive row. Example: <span class=\"w\">  </span><span class=\"nc\">couchbeam_view</span><span class=\"p\">:</span><span class=\"nf\">foreach</span><span class=\"p\" data-group-id=\"5998255880-1\">(</span><span class=\"nf\">fun</span><span class=\"p\" data-group-id=\"5998255880-2\">(</span><span class=\"n\">Row</span><span class=\"p\" data-group-id=\"5998255880-2\">)</span><span class=\"w\"> </span><span class=\"p\">-&gt;</span><span class=\"w\"> </span><span class=\"nc\">io</span><span class=\"p\">:</span><span class=\"nf\">format</span><span class=\"p\" data-group-id=\"5998255880-3\">(</span><span class=\"s\">&quot;got row </span><span class=\"si\">~p</span><span class=\"si\">~n</span><span class=\"s\">&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\" data-group-id=\"5998255880-4\">[</span><span class=\"n\">Row</span><span class=\"p\" data-group-id=\"5998255880-4\">]</span><span class=\"p\" data-group-id=\"5998255880-3\">)</span><span class=\"w\"> </span><span class=\"k\">end</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Db</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">&#39;all_docs&#39;</span><span class=\"p\" data-group-id=\"5998255880-1\">)</span><span class=\"p\">.</span>","ref":"couchbeam_view.html#foreach/4"},{"type":"function","title":"couchbeam_view.parse_view_options/1","doc":"parse view options","ref":"couchbeam_view.html#parse_view_options/1"},{"type":"type","title":"couchbeam_view.server/0","doc":"","ref":"couchbeam_view.html#t:server/0"},{"type":"function","title":"couchbeam_view.show/2","doc":"","ref":"couchbeam_view.html#show/2"},{"type":"function","title":"couchbeam_view.show/3","doc":"","ref":"couchbeam_view.html#show/3"},{"type":"function","title":"couchbeam_view.show/4","doc":"","ref":"couchbeam_view.html#show/4"},{"type":"type","title":"couchbeam_view.show_option/0","doc":"example: \"foo=bar&baz=biz\"","ref":"couchbeam_view.html#t:show_option/0"},{"type":"type","title":"couchbeam_view.show_options/0","doc":"","ref":"couchbeam_view.html#t:show_options/0"},{"type":"type","title":"couchbeam_view.stale/0","doc":"","ref":"couchbeam_view.html#t:stale/0"},{"type":"function","title":"couchbeam_view.stream/2","doc":"Equivalent to  stream(Db, ViewName, []) .","ref":"couchbeam_view.html#stream/2"},{"type":"function","title":"couchbeam_view.stream/3","doc":"stream view results to a pid Db: a db record ViewName: 'all_docs' to get all docs or {DesignName, ViewName} Client receives messages: - {row, StartRef, done} All rows have been fetched - {row, StartRef, Row :: ejson_object()} A row in the view - {error, StartRef, Error} An error occurred; stream closed Options include (see couchbeam_view:parse_view_options/1): - {key, Key} - {start_docid, DocId} | {startkey_docid, DocId} - {end_docid, DocId} | {endkey_docid, DocId} - {start_key, Key} | {end_key, Key} - {limit, N} - {stale, ok | update_after | false} - descending | {skip, N} - group | {group_level, integer()} - reduce | {reduce, boolean()} - include_docs | conflicts | {inclusive_end, boolean()} - {keys, [Key]} - {stream_to, Pid}","ref":"couchbeam_view.html#stream/3"},{"type":"function","title":"couchbeam_view.stream_next/1","doc":"","ref":"couchbeam_view.html#stream_next/1"},{"type":"type","title":"couchbeam_view.view_name/0","doc":"","ref":"couchbeam_view.html#t:view_name/0"},{"type":"type","title":"couchbeam_view.view_option/0","doc":"","ref":"couchbeam_view.html#t:view_option/0"},{"type":"type","title":"couchbeam_view.view_options/0","doc":"","ref":"couchbeam_view.html#t:view_options/0"},{"type":"type","title":"couchbeam_view.view_query_args/0","doc":"","ref":"couchbeam_view.html#t:view_query_args/0"},{"type":"module","title":"couchbeam_view_stream","doc":"","ref":"couchbeam_view_stream.html"},{"type":"function","title":"couchbeam_view_stream.init_stream/5","doc":"","ref":"couchbeam_view_stream.html#init_stream/5"},{"type":"function","title":"couchbeam_view_stream.maybe_continue/1","doc":"","ref":"couchbeam_view_stream.html#maybe_continue/1"},{"type":"function","title":"couchbeam_view_stream.start_link/4","doc":"","ref":"couchbeam_view_stream.html#start_link/4"},{"type":"function","title":"couchbeam_view_stream.system_code_change/4","doc":"","ref":"couchbeam_view_stream.html#system_code_change/4"},{"type":"function","title":"couchbeam_view_stream.system_continue/3","doc":"","ref":"couchbeam_view_stream.html#system_continue/3"},{"type":"function","title":"couchbeam_view_stream.system_terminate/4","doc":"","ref":"couchbeam_view_stream.html#system_terminate/4"},{"type":"module","title":"couchbeam_view_sup","doc":"","ref":"couchbeam_view_sup.html"},{"type":"function","title":"couchbeam_view_sup.init/1","doc":"","ref":"couchbeam_view_sup.html#init/1"},{"type":"function","title":"couchbeam_view_sup.start_link/0","doc":"","ref":"couchbeam_view_sup.html#start_link/0"},{"type":"behaviour","title":"gen_changes","doc":"gen_changes CouchDB continuous changes consumer behavior This behaviour allows you to create easily a server that consume Couchdb continuous changes","ref":"gen_changes.html"},{"type":"function","title":"gen_changes.behaviour_info/1","doc":"","ref":"gen_changes.html#behaviour_info/1"},{"type":"function","title":"gen_changes.call/2","doc":"","ref":"gen_changes.html#call/2"},{"type":"function","title":"gen_changes.call/3","doc":"","ref":"gen_changes.html#call/3"},{"type":"function","title":"gen_changes.cast/2","doc":"","ref":"gen_changes.html#cast/2"},{"type":"function","title":"gen_changes.code_change/3","doc":"","ref":"gen_changes.html#code_change/3"},{"type":"function","title":"gen_changes.get_seq/1","doc":"","ref":"gen_changes.html#get_seq/1"},{"type":"function","title":"gen_changes.handle_call/3","doc":"","ref":"gen_changes.html#handle_call/3"},{"type":"function","title":"gen_changes.handle_cast/2","doc":"","ref":"gen_changes.html#handle_cast/2"},{"type":"function","title":"gen_changes.handle_info/2","doc":"","ref":"gen_changes.html#handle_info/2"},{"type":"function","title":"gen_changes.init/1","doc":"","ref":"gen_changes.html#init/1"},{"type":"function","title":"gen_changes.start_link/4","doc":"create a gen_changes process as part of a supervision tree. The function should be called, directly or indirectly, by the supervisor. InitArgs::list()) -> term() changesoptions() = [changeoption()] changeoption() = {include_docs, string()} | {filter, string()} | {since, integer()|string()} | {heartbeat, string()|boolean()}","ref":"gen_changes.html#start_link/4"},{"type":"function","title":"gen_changes.stop/1","doc":"","ref":"gen_changes.html#stop/1"},{"type":"function","title":"gen_changes.terminate/2","doc":"","ref":"gen_changes.html#terminate/2"},{"type":"module","title":"json_stream_parse","doc":"","ref":"json_stream_parse.html"},{"type":"function","title":"json_stream_parse.feed/2","doc":"","ref":"json_stream_parse.html#feed/2"},{"type":"function","title":"json_stream_parse.finish/1","doc":"","ref":"json_stream_parse.html#finish/1"},{"type":"function","title":"json_stream_parse.init/0","doc":"","ref":"json_stream_parse.html#init/0"},{"type":"extras","title":"Readme","doc":"# Couchbeam - simple Apache CouchDB client library for Erlang applications #\n\nCopyright (c) 2009-2025 Benoit Chesneau.\n\n__Version:__ 1.7.1\n\n# couchbeam\n\nCouchbeam is a simple erlang library for [Barrel](https://barrel-db.org) or [Apache CouchDB](http://couchdb.apache.org). Couchbeam provides you a full featured and easy client to access and manage multiple nodes.\n\n#### Main features:\n\n- Complete support of the BarrelDB and Apache CouchDB API\n- Stream view results to your app\n- Stream changes feeds\n- reduced memory usage\n- fetch and send attachments in a streaming fashion\n- JSON encoding/decoding via Erlang/OTP stdlib `json` with maps\n\n#### Useful modules are:\n\n- [`couchbeam`](http://github.com/benoitc/couchbeam/blob/master/doc/couchbeam.md): The `couchbeam` module is the main interface for interaction with this application. It includes functions for managing connections to Apache CouchDB or RCOUCH servers and databases and for performing document creations, updates, deletes, views...\n- [`couchbeam_doc`](http://github.com/benoitc/couchbeam/blob/master/doc/couchbeam_doc.md) Module to manipulate Documents structures. You can set values,\nupdates keys, ...\n- [`couchbeam_attachments`](http://github.com/benoitc/couchbeam/blob/master/doc/couchbeam_attachments.md): Module to manipulate attachments. You can add, remove\nattachments in a Document structure (inline attachments).\n- [`couchbeam_view`](http://github.com/benoitc/couchbeam/blob/master/doc/couchbeam_view.md): Module to manage view results.\n- [`couchbeam_changes`](http://github.com/benoitc/couchbeam/blob/master/doc/couchbeam_changes.md): Module to manage changes feeds. Follow continuously\nthe changes in a db or get all changes at once.\n\nThe goal of Couchbeam is to ease the access to the Apache CouchDB and RCOUCH HTTP API in erlang.\n\nRead the [NEWS](https://raw.github.com/benoitc/couchbeam/master/NEWS) file\nto get last changelog.","ref":"readme.html"},{"type":"extras","title":"Installation - Readme","doc":"Download the sources from our [Github repository](http://github.com/benoitc/couchbeam)\n\nTo build the application simply run 'make'. This should build .beam, .app\nfiles and documentation.\n\nTo run tests run 'make test'.\nTo generate doc, run 'make doc'.\n\nOr add it to your rebar config\n\n```\n   erlang\n{deps, [\n    ....\n    {couchbeam, \".*\", {git, \"git://github.com/benoitc/couchbeam.git\", {branch, \"master\"}}}\n]}.\n```\n\nNote to compile with jiffy you need to define in the erlang options the\nvariable `WITH_JIFFY`.\n\nif you use rebar, add to your `rebar.config`:\n\n```\n   erlang\n{erl_opts, [{d, 'WITH_JIFFY'}]}.\n```\n\nor use the `rebar` command with the `-D` options:\n\n```\n   sh\nrebar compile -DWITH_JIFFY\n```","ref":"readme.html#installation"},{"type":"extras","title":"Basic Usage - Readme","doc":"","ref":"readme.html#basic-usage"},{"type":"extras","title":"Start couchbeam - Readme","doc":"Couchbeam is an [OTP](http://www.erlang.org/doc/design_principles/users_guide.html)\napplication. You have to start it first before using any of the\nfunctions. The couchbeam application will start the default socket pool\nfor you.\n\nTo start in the console run:\n\n```\n   sh\n$ erl -pa ebin\n1> couchbeam:start().\nok\n```\n\nIt will start hackney and all of the application it depends on:\n\n```\n   erlang\napplication:start(crypto),\napplication:start(asn1),\napplication:start(public_key),\napplication:start(ssl),\napplication:start(hackney),\napplication:start(couchbeam).\n```\n\nOr add couchbeam to the applications property of your .app in a release","ref":"readme.html#start-couchbeam"},{"type":"extras","title":"Create a connection to the server - Readme","doc":"To create a connection to a server machine:\n\n```\n   erlang\nUrl = \"http://localhost:5984\",\nOptions = [],\nS = couchbeam:server_connection(Url, Options).\n```\n\nTest the connection with `couchbeam:server_info/1` :\n\n```\n   erlang\n{ok, _Version} = couchbeam:server_info(S).\n```","ref":"readme.html#create-a-connection-to-the-server"},{"type":"extras","title":"Open or Create a database - Readme","doc":"All document operations are done in databases. To open a database simply do:\n\n```\n   erlang\nOptions = [],\n{ok, Db} = couchbeam:open_db(Server, \"testdb\", Options).\n```\n\nTo create a new one:\n\n```\n   erlang\nOptions = [],\n{ok, Db} = couchbeam:create_db(Server, \"testdb\", Options).\n```\n\nYou can also use the shorcut `couchbeam:open_or_create_db/3`. that\nwill create a database if it does not exist.","ref":"readme.html#open-or-create-a-database"},{"type":"extras","title":"Make a new document - Readme","doc":"Make a new document:\n\n```\n   erlang\nDoc = #{\n    <<\"_id\">> => <<\"test\">>,\n    <<\"content\">> => <<\"some text\">>\n}.\n```\n\nAnd save it to the database:\n\n```\n   erlang\n{ok, Doc1} = couchbeam:save_doc(Db, Doc).\n```\n\nThe `couchbeam:save_doc/2` return a new document with updated\nrevision and if you do not specify the _id, a unique document id.\n\nTo change an document property use functions from `couchbeam_doc`.","ref":"readme.html#make-a-new-document"},{"type":"extras","title":"Retrieve a document - Readme","doc":"To retrieve a document do:\n\n```\n   erlang\n{ok, Doc2} = couchbeam:open_doc(Db, \"test\").\n```\n\nIf you want a specific revision:\n\n```\n   erlang\nRev = couchbeam_doc:get_rev(Doc1),\nOptions = [{rev, Rev}],\n{ok, Doc3} = couchbeam:open_doc(Db, \"test\", Options).\n```\n\nHere we get the revision from the document we previously stored. Any\noptions from the Apache CouchDB and RCOUCH API can be used.","ref":"readme.html#retrieve-a-document"},{"type":"extras","title":"Get all documents - Readme","doc":"To get all documents you have first to create an object\nthat will keep all informations.\n\n```\n   erlang\nOptions = [include_docs],\n{ok, AllDocs} = couchbeam_view:all(Db, Options).\n```\n\nExample result (abridged):\n\n```\n   erlang\n{ok, [\n    #{\n      <<\"id\">> => <<\"7a0ce91d0d0c5e5b51e904d1ee3266a3\">>,\n      <<\"key\">> => <<\"7a0ce91d0d0c5e5b51e904d1ee3266a3\">>,\n      <<\"value\">> => #{<<\"rev\">> => <<\"15-15c0b3c4efa74f9a80d28ac040f18bdb\">>},\n      <<\"doc\">> => #{\n        <<\"_id\">> => <<\"7a0ce91d0d0c5e5b51e904d1ee3266a3\">>,\n        <<\"_rev\">> => <<\"15-15c0b3c4efa74f9a80d28ac040f18\"...>>\n      }\n    }\n]}.\n```\n\nAll functions to manipulate these results are in the `couchbeam_view` module.","ref":"readme.html#get-all-documents"},{"type":"extras","title":"Couch DB views - Readme","doc":"Views are workin like all_docs. You have to create a View object before\ndoing anything.\n\n```\n   erlang\nOptions = [],\nDesignName = \"designname\",\nViewName = \"viewname\",\n{ok, ViewResults} = couchbeam_view:fetch(Db, {DesignName, ViewName}, Options).\n```\n\nLike the `all_docs` function, use the functions\nfrom `couchbeam_view` module to manipulate results. You can pass\nany querying options from the [view API](http://docs.rcouch.org/en/latest/api/ddoc/views.html).\n\nDesign doc are created like any documents:\n\n```\n   erlang\nDesignDoc = #{\n    <<\"_id\">> => <<\"_design/couchbeam\">>,\n    <<\"language\">> => <<\"javascript\">>,\n    <<\"views\">> => #{\n        <<\"test\">> => #{\n            <<\"map\">> => <<\"function (doc) {\\n if (doc.type == \\\"test\\\") {\\n emit(doc._id, doc);\\n}\\n}\">>\n        },\n        <<\"test2\">> => #{\n            <<\"map\">> => <<\"function (doc) {\\n if (doc.type == \\\"test2\\\") {\\n emit(doc._id, null);\\n}\\n}\">>\n        }\n    }\n},\n{ok, DesignDoc1} = couchbeam:save_doc(Db, DesignDoc).\n```\n\nYou can also use [couchapp](http://github.com/couchapp/couchapp) to manage them\nmore easily.","ref":"readme.html#couch-db-views"},{"type":"extras","title":"Stream View results - Readme","doc":"While you can get results using `couchbeam_views:fetch/2`, you can also retrieve\nall rows in a streaming fashion:\n\n```\n   erlang\nViewFun = fun(Ref, F) ->\n    receive\n        {Ref, done} ->\n            io:format(\"done\", []),\n            done;\n        {Ref, {row, Row}} ->\n            io:format(\"got ~p~n\", [Row]),\n            F(Ref, F);\n        {error, Ref, Error} ->\n            io:format(\"error: ~p~n\", [Error])\n    end\nend,\n\n{ok, StreamRef} = couchbeam_view:stream(Db, 'all_docs'),\nViewFun(StreamRef, ViewFun),\n{ok, StreamRef2} = couchbeam_view:stream(Db, 'all_docs', [include_docs]),\nViewFun(StreamRef2, ViewFun).\n```\n\nYou can of course do the same with a view:\n\n```\n   erlang\nDesignNam = \"designname\",\nViewName = \"viewname\",\n{ok, StreamRef3} = couchbeam_view:stream(Db, {DesignNam, ViewName}, [include_docs]),\nViewFun(StreamRef3, ViewFun).\n```","ref":"readme.html#stream-view-results"},{"type":"extras","title":"Put, Fetch and Delete documents attachments - Readme","doc":"You can add attachments to any documents. Attachments could be anything.\n\nTo send an attachment:\n\n```\n   erlang\nDocID = \"test\",\nAttName = \"test.txt\",\nAtt = \"some content I want to attach\",\nOptions = []\n{ok, _Result} = couchbeam:put_attachment(Db, DocId, AttName, Att, Options).\n```\n\nAll attachments are streamed to servers. `Att` could be also be an iolist\nor functions, see `couchbeam:put_attachment/5` for more information.\n\nTo fetch an attachment:\n\n```\n   erlang\n{ok Att1} = couchbeam:fetch_attachment(Db, DocId, AttName).\n```\n\nYou can use `couchbeam:stream_attachment/1` for the stream\nfetch.\n\nTo delete an attachment:\n\n```\n   erlang\n{ok, Doc4} = couchbeam:open_doc(Db, DocID),\nok = couchbeam:delete_attachment(Db, Doc4, AttName).\n```","ref":"readme.html#put-fetch-and-delete-documents-attachments"},{"type":"extras","title":"Changes - Readme","doc":"Apache CouchDB and RCOUCH provide a means to get a list of changes made to documents in\nthe database. With couchbeam you can get changes using `couchbeam_changes:follow_once/2`.\nThis function returns all changes immediately. But you can also retrieve\nall changes rows using longpolling :\n\n```\n   erlang\nOptions = [],\n{ok, LastSeq, Rows} = couchbeam_changes:follow_once(Db, Options).\n```\n\nOptions can be any Changes query parameters. See the [change API](http://docs.rcouch.org/en/latest/api/database/changes.html) for more informations.\n\nYou can also get [continuous](http://docs.rcouch.org/en/latest/api/database/changes.html#continuous):\n\n```\n   erlang\nChangesFun = fun(StreamRef, F) ->\n    receive\n        {StreamRef, {done, LastSeq}} ->\n            io:format(\"stopped, last seq is ~p~n\", [LastSeq]),\n            ok;\n        {StreamRef, {change, Change}} ->\n            io:format(\"change row ~p ~n\", [Change]),\n            F(StreamRef, F);\n        {StreamRef, Error}->\n            io:format(\"error ? ~p ~n,\", [Error])\n    end\nend,\nOptions = [continuous, heartbeat],\n{ok, StreamRef} = couchbeam_changes:follow(Db, Options),\nChangesFun(StreamRef, ChangesFun).\n```\n\n> **Note**: a `gen_changes` behaviour exists in couchbeam that you can\nuse to create your own specific gen_server receiving changes. Have a\nlook in the\n[example](https://github.com/benoitc/couchbeam/blob/master/examples/test_gen_changes.erl)\nfor more info.","ref":"readme.html#changes"},{"type":"extras","title":"Authentication/ Connections options - Readme","doc":"You can authenticate to the database or Apache CouchDB or RCOUCH server by filling\noptions to the Option list in `couchbeam:server_connection/4` for the\nserver or in `couchbeam:create_db/3`, `couchbeam:open_db/3`,\n`couchbeam:open_or_create_db/3` functions.\n\nTo set basic_auth on a server:\n\n```\n   erlang\nUserName = \"guest\",\nPassword = \"test\",\nUrl = \"http://localhost:5984\",\nOptions = [{basic_auth, {UserName, Password}}],\nS1 = couchbeam:server_connection(Url, Options).\n```\n\nCouchbeam support SSL, OAuth, Basic Authentication, and Proxy. You can\nalso set a cookie. For more informations about the options have a look\nin the `couchbeam:server_connection/2` documentation.","ref":"readme.html#authentication-connections-options"},{"type":"extras","title":"Contribute - Readme","doc":"For issues, comments or feedback please [create an\nissue](http://github.com/benoitc/couchbeam/issues).","ref":"readme.html#contribute"},{"type":"extras","title":"Changelog","doc":"couchbeam NEWS\n--------------\n\nversion 2.0.0 / 2025-09-03\n--------------------------\n\n- move from propos lists to maps for json\n- remove JSX & Jiffy Usage  for erlang/0TP 28.0+ json module\n- View and changes streaming now use a simpler parser\n\n** BREAKING CHANGE **\n\n- move to maps, you will need to migrate your application to use them. \nno backward compatibility is provided\n\nversion 1.7.1 / 2025-07-24\n---------------------------\n\n- update hackney depdendency to 1.25.0\n\nversion 1.7.0 / 2025-05-28\n--------------------------\n\n- fix resource leaks and race conditions in stream modules\n- fix unclosed hackney connections on error paths\n- add proper cleanup for monitor references using try-finally\n- fix ETS table race conditions by checking process liveness\n- improve stream initialization order to prevent races\n- add error handling for hackney operations to prevent leaks\n- fix changes stream registration race condition by registering before parent notification\n\nversion 1.6.0 / 2025-01-26\n--------------------------\n\n- add support for CouchDB _find endpoint\n- add ability to query _show functions  \n- add option for disabling view_stream usage (enabled by default)\n- fix error handling in gen_changes callback handling\n- fix resource cleanup in stream modules to prevent connection leaks\n- improve replication test reliability and timeout handling\n- update hackney dependency to 1.23\n- update jsx dependency\n- add GitHub Actions for CouchDB testing\n- fix dialyzer complaints and pattern matching issues\n- OTP 27 compatibility improvements\n\nversion 1.5.4 / 2025-02-20\n--------------------------\n\n- bump hackney 1.22.0\n\nversion 1.5.3 / 2024-08-20\n--------------------------\n\n- fix packaging\n\nversion 1.5.1 / 2024-11-07\n--------------------------\n\n- fix pattern matching\n\nversion 1.5.1 / 2024-11-07\n--------------------------\n\n- fix: handle condition that may cause persistent CLOSE-WAIT sockets\n\nversion 1.5.0 / 2023-10-11\n--------------------------\n\n- use hackney 1.20.0\n- fix compatibility with couchdb 3\n- fix compatibility with Erlang >= 23\n\nversion 1.4.1 / 2016-09-26\n--------------------------\n\n- maintainance update\n\nversion 1.4.0 / 2016-09-22\n--------------------------\n\n- maintainance update.\n\nversion 1.3.1 / 2016-07-01\n--------------------------\n\n- fix: accept 202 status in `couchbeam:save_doc/4` function (#144)\n- fix: spec syntax to build with Erlang 19 (#145)\n\nversion 1.3.0 / 2016-03-22\n--------------------------\n\n- add `couchbeam:all_dbs/2`\n- add `couchbeam:view_cleanup/1`\n- add `couchbeam:design_info/2`\n- add `post_decode` function to view stream\n- add Elixir mix support\n- fix: handle http errors in view stream (#140)\n- fix: build with latest rebar3\n\nversion 1.2.1 / 2015/11/04\n--------------------------\n\n- also support hackney 1.4.4 for rebar2.\n- fix hex.pm release to really use 1.4.4\n\nversion 1.2.0 / 2015/11/04\n--------------------------\n\n- move to eunit for tests.\n- hex.pm support\n- mix & rebar3 build tools support\n- bump hackney to 1.4.4\n- bump jsx to 2.2.8","ref":"news.html"},{"type":"extras","title":"Breaking change - Changelog","doc":"erlang-oauth is now optionnal and won't be installed by default.\n\nversion 1.1.8 / 2015-08-27\n--------------------------\n\n- use latest stable branch of [hackney](https://github.com/benoitc/hackney)\n\nversion 1.1.7 / 2015-03-11\n--------------------------\n\n- bump [hackney](https://github.com/benoitc/hackney) to 1.1.0\n- fix `Conten-Type` header ehen posting doc IDS in changes #126\n- fix documentation\n\nversion 1.1.6 / 2015-01-02\n--------------------------\n\n- fix `included_applications` (#122)\n\nversion 1.1.5 / 2014-12-09\n--------------------------\n\n- improvement: do not force connections options to nodelay\n- update to [Hackney](https://github.com/benoitc/hackney) 1.0.4 fix #120\n- fix: retry fecthing UUIDS on error (#121)\n\nversion 1.1.4 / 2014-12-01\n--------------------------\n\n- update to [Hackney](https://github.com/benoitc/hackney) 1.0.1: more SSL\n  certificate authority handling.\n- fix: changes stream\n\nversion 1.1.3 / 2014-11-30\n--------------------------\n\n- update to [Hackney](https://github.com/benoitc/hackney) 1.0.0\n\nversion 1.1.2 / 2014-11-15\n--------------------------\n\n- remove spurious prints\n\nversion 1.1.1 / 2014-11-11\n--------------------------\n\n- update to [hackney 0.15.0](https://github.com/benoitc/hackney/releases ),\n  improving performances and concurrency\n- fix `couchbeam:doc_exists/2`(#116)\n- fix `couchbeam:reply_att/1` (#114)\n\n\nversion 1.1.0 / 2014-10-28\n--------------------------\n\n- update to [hackney 0.14.3](https://github.com/benoitc/hackney/releases)\n- fix memory leaks\n- correctly close sockets\n- fix streaming issue: don't wait the stream timeout to report the initial\n  error.\n- update JSX dependency to version 2.1.1\n\nversion 1.0.7 / 2014-07-08\n--------------------------\n\n- bump to [hackney 0.13.0](https://github.com/benoitc/hackney/releases/tag/0.13.0)\n\nversion 1.0.6 / 2014-04-18\n--------------------------\n\n- bump to [hackney 0.12.1](https://github.com/benoitc/hackney/releases/tag/0.12.2)\n\n\nversion 1.0.5 / 2014-04-18\n--------------------------\n\n- improve connections with HTTP proxies\n- improve content-types detection of attachments\n- improve URL encoding normalzation, useful when connecting to an\n  international domain/URI\n- URL resolving is faster\n- bump to [hackney 0.12.0](https://github.com/benoitc/hackney/releases/tag/0.12.0)\n\nversion 1.0.4 / 2014-04-15\n--------------------------\n\n- remove spurious print\n\nversion 1.0.3 / 2014-04-15\n--------------------------\n\n- add support for the `new_edits` option in bulk doc API.\n- improvement: send a doc as multipart that already contains attachments\n- bump [hackney](http://github.com/benoitc/hackney) to 0.11.2\n- fix path encoding\n\nversion 1.0.2 / 2014-01-03\n--------------------------\n\n- fix: send a doc as multipart that already contains attachments\n\n\nversion 1.0.1 / 2013-12-30\n--------------------------\n\n- fix connection reusing in changes and view streams\n- bump hackney version to 0.10.1\n\n\nversion 1.0.0 / 2013-12-21\n--------------------------\n\n**First stable release**. This is a supported release.\n\n- send a doc and its attachments efficiently using the [multipart\n  API](http://docs.couchdb.org/en/latest/api/document/common.html#creating-multiple-attachments).\n- add `couchbeam:get_config/{1,2,3}`, `couchbeam:set_config/{4,5}` and\n  `couchbeam:delete_config/{3,4}` to use the [config\nAPI](http://docs.couchdb.org/en/latest/api/server/configuration.html).\n- add `couchbeam_uuids:random/0` and `couchbeam_uuids:utc_random/0` to\n  generate UUIDS in your app instead of reusing the UUID generated on\nthe node. By default couchbeam is fetching from the node, which is\n- add `{error, forbidden}` and `{error, unauthenticated}` as possible\n  results of a reply.\nbetter if you want to use UUID based on the node time.\n- fix accept header handling\n\n\nversion 0.10.0 / 2013-12-21\n---------------------------\n\n- add `couchbeam:copy_doc/{2,3}` to support the COPY API\n- add `couchbeam:get_missing_revs/2` to get the list of missing\n  revisions\n- add support of the [multipart\n  API](http://docs.couchdb.org/en/latest/api/document/common.html#efficient-multiple-attachments-retrieving) when fetching a doc: This change make\n  `couchbeam:open_doc/3` returns a multipart response `{ok, {multipart, Stream}}`\n  when using the `attachments=true` option. A new option `{accept, <<\"multipart/mixed\">>}`\n  can also be used with the options `open_revs` or `revs` to fetch the response as a multipart.\n- bump the [hackney](http://github.com/benoitc/hackney) version to\n  **0.9.1** .\n\n\nWith this change you can now efficiently retrieve a doc with all of its\nattachments or a doc wit all its revisions.\n master\n\nversion 0.9.3 / 2013-12-07\n--------------------------\n\n- fix: couchbeam:open_or_create_db/2\n\nversion 0.9.2 / 2013-12-07\n--------------------------\n\n- bump hackney version to 0.8.3\n\nversion 0.9.1 / 2013-12-05\n--------------------------\n\n- fix design docid encoding\n\nversion 0.9.0 / 2013-12-05\n--------------------------\n\nThis is a major release pre-1.0. API is now frozen and won't change much\nuntil the version 1.0.\n\n- replaced the use of ibrowse by hackney to handle HTTP connections\n- new [streaming\n  API](https://github.com/benoitc/couchbeam#stream-view-results) in view\n- breaking change: remobe\n- breaking change: remove deprecated view API. Everything is now managed in the\n  [couch_view](https://github.com/benoitc/couchbeam/blob/master/doc/couchbeam_view.md) module.\n- replace 'couchbeam_changes:stream' and 'couchbeam_changes:fetch'\n  functions by 'couchbeam_changes/follow' and 'couchbeam_changes:follow_once'.\n- breaking change: new attachment API\n- new: JSX a pure erlang JSON encoder/decoder is now the default. Jiffy\n  can be set at the compilation by defining 'WITH_JIFFY' in the Erlang\noptions.\n- removed mochiweb dependency.\n\n\nversion 0.7.0 / 2011-07-05\n--------------------------\n\nThis release contains backwards incompatible changes.\n\n- New and more efficient couchbeam_changes API, we now parse json stream\n  instead of the try catch steps we used before.\n- New and more efficient couchbeam_view API. we now parse json stream\n  instead of getting all results. New couchbeam_view:stream and\ncouchbeam_view fetch functions have been added. We also don't use any\nmore a view record in other functions\n- HTTP functions have been moved to couchbeam_httpc modules\n- gen_changes behaviour has been updated to use the couchbeam_changes\n  API. It's also abble to restart a lost connection for longpoll and\ncontinuous feeds.\n\nBreaking Changes:\n\n- couchbeam:view and couchbeam:all_docs have been deprecated. Old views\n  functions using the #view{} record from these functions have been\nmoved in couchbeam_oldview module.\n- couchbeam:wait_changes, couchbeam:wait_changes_once, couchbeam:changes\n  functions have been deprecated and are now replaced by\ncouchbeam_changes:stream and couchbeam_changes:fetch functions.","ref":"news.html#breaking-change"},{"type":"extras","title":"Notice","doc":"Couchbeam\n---------\n\n2009-2025 (c) Benoit Chesneau\n\ncouchbeam is released under the MIT license. See the LICENSE file for the\ncomplete license.","ref":"notice.html"},{"type":"extras","title":"License","doc":"2009-2025 (c) Benoit Chesneau\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.","ref":"license.html"}],"proglang":"erlang","content_type":"text/markdown","producer":{"name":"ex_doc","version":"0.38.2"}}