%%-*- mode: erlang -*-


{erl_opts, [debug_info,
            {platform_define, "^(2[3-9])", 'USE_CRYPTO_MAC'}]}.

%% ExDoc plugin for generating HTML docs
{plugins, [rebar3_ex_doc, rebar3_hex]}.

%% ExDoc settings
{ex_doc, [
    {source_url, "https://github.com/benoitc/couchbeam"},
    {main, "readme"},
    {output, "doc"},
    {extras, [
        {"README.md", #{title => "Readme"}},
        {"NEWS.md",   #{title => "Changelog"}},
        {"NOTICE",    #{title => "Notice"}},
        {"LICENSE",   #{title => "License"}}
    ]}
]}.

%% Hex.pm configuration
%% - Use ExDoc for docs when running `rebar3 hex docs`
{hex, [
    {doc, #{provider => ex_doc}}
]}.

{deps, [
    {hackney, "1.25.0"}
]}.


{profiles, [
            {test, [
                     {cover_enabled, true},
                     {eunit_opts, [verbose]},
                     {deps, [{oauth, "2.1.0"}]}
                    ]}
           ]}.
